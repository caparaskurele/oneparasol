@tailwind base;
@tailwind components;
@tailwind utilities;



@layer base {
  html,
  body {
    @apply dark:bg-trueGray-900;
  }
}

:root {
  /* 0.9 = 90% of 16px = 14.4px base - rem-based Tailwind sizes will scale down */
  --global-font-scale: 90%;
}

/* Reduce root font size so rem-based Tailwind sizes render slightly smaller */
html {
  font-size: var(--global-font-scale);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Restore default root font-size so images and layout render normally */
html {
  font-size: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Ensure images are visible and responsive */
img,
.responsive-img,
.site-image {
  display: block !important;
  max-width: 100% !important;
  height: auto !important;
}

/* Main site container to keep content from stretching too wide */
.site-container {
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* Make images responsive and constrained */
img,
.responsive-img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Keep certain fixed/floating UI unscaled (use .no-scale on those elements) */
.no-scale {
  transform: none !important;
  zoom: 1 !important;
}

/* Mobile: do NOT scale down on very small screens (preserve readability) */
@media (max-width: 640px) {
  html {
    font-size: 100%;
  }
}

/* Apply a consistent typographic ratio (match home page scale globally).
   This uses Tailwind's @layer base so it integrates with Preflight.
   Note: components that already use explicit Tailwind font-size utilities
   (e.g. "text-xl", "md:text-2xl") will still override these rules.
   To fully standardize, prefer semantic elements (h1/h2/p) or remove
   per-component size utilities. */

@layer base {
  :root{
    --type-body: 1rem;       /* 16px */
    --type-p: 1.125rem;      /* 18px (text-lg) */
    --type-h2: 1.5rem;       /* 24px (text-2xl) */
    --type-h2-md: 1.875rem;  /* 30px (text-3xl) */
    --type-h2-lg: 2.25rem;   /* 36px (text-4xl) */
    --type-h1: 2.25rem;      /* 36px (text-4xl) */
    --type-h1-md: 3rem;      /* 48px (text-5xl) */
    --type-h1-lg: 3.75rem;   /* 60px (text-6xl) */
    --lead-color: #374151;   /* Tailwind gray-700 */
  }

  /* base page font */
  html { font-size: 100%; }
  body { font-size: var(--type-body) !important; color: inherit; }

  /* Primary headings / hero-like (force with !important so utility classes can't override) */
  h1 {
    font-size: var(--type-h1) !important;
    line-height: 1.06 !important;
    margin-top: 0 !important;
    margin-bottom: 0.75rem !important;
    font-weight: 700 !important;
    color: inherit !important;
  }
  @media (min-width: 768px) { h1 { font-size: var(--type-h1-md) !important; } }
  @media (min-width: 1024px) { h1 { font-size: var(--type-h1-lg) !important; } }

  /* Section headings (force) */
  h2 {
    font-size: var(--type-h2) !important;
    line-height: 1.12 !important;
    margin-top: 0 !important;
    margin-bottom: 0.75rem !important;
    font-weight: 600 !important;
    color: inherit !important;
  }
  @media (min-width: 768px) { h2 { font-size: var(--type-h2-md) !important; } }
  @media (min-width: 1024px) { h2 { font-size: var(--type-h2-lg) !important; } }

  h3, h4 {
    margin-top: 0 !important;
    margin-bottom: 0.6rem !important;
    color: inherit !important;
    font-weight: 600 !important;
  }

  /* Paragraphs / body copy (force) */
  p {
    font-size: var(--type-p) !important;
    line-height: 1.7 !important;
    margin-bottom: 1rem !important;
    color: var(--lead-color) !important;
  }

  /* Small text */
  small, .text-sm { font-size: 0.875rem !important; line-height: 1.5 !important; }

  /* Make images responsive by default */
  img, .responsive-img, .site-image {
    display: block !important;
    max-width: 100% !important;
    height: auto !important;
  }

  /* Prose containers */
  .prose {
    max-width: 65ch !important;
  }

  /* ------------- Override Tailwind text utilities (common ones) ------------- */
  /* Map Tailwind text utilities to your typographic scale to make them consistent */
  .text-xs  { font-size: 0.75rem  !important; }
  .text-sm  { font-size: 0.875rem !important; }
  .text-base{ font-size: var(--type-body) !important; }
  .text-lg  { font-size: var(--type-p) !important; }
  .text-xl  { font-size: calc(var(--type-p) * 1.125) !important; }
  .text-2xl { font-size: var(--type-h2) !important; }
  .text-3xl { font-size: var(--type-h2-md) !important; }
  .text-4xl { font-size: var(--type-h2-lg) !important; }
  .text-5xl { font-size: var(--type-h1-md) !important; }
  .text-6xl { font-size: var(--type-h1-lg) !important; }

  /* Responsive utility overrides (handle common md/lg variants) */
  @media (min-width: 768px) {
    .md\:text-lg  { font-size: var(--type-p) !important; }
    .md\:text-xl  { font-size: calc(var(--type-p) * 1.125) !important; }
    .md\:text-2xl { font-size: var(--type-h2-md) !important; } /* maps md:text-2xl */
    .md\:text-3xl { font-size: var(--type-h2-lg) !important; }
  }

  @media (min-width: 1024px) {
    .lg\:text-xl  { font-size: calc(var(--type-p) * 1.125) !important; }
    .lg\:text-2xl { font-size: var(--type-h2-md) !important; }
    .lg\:text-3xl { font-size: var(--type-h2-lg) !important; }
    .lg\:text-4xl { font-size: var(--type-h1-md) !important; }
  }

  /* End overrides */
}

/* Mobile: keep comfortable reading sizes */
@media (max-width: 640px) {
  :root {
    --type-p: 1rem; /* slightly smaller on narrow screens */
  }
}

/* Helpful note (optional)
   To ensure every page uses this ratio:
   - Prefer semantic tags (h1/h2/p) instead of per-component font utilities.
   - Search for and remove explicit font-size utilities (text-*, md:text-*) where you want the global ratio.
*/

